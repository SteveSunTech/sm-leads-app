{"ast":null,"code":"var _jsxFileName = \"/Users/mingkun/Desktop/student medicover/salesApp/client/src/components/am/basicManage.js\";\nimport React, { useEffect, useState, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { newBasic, getAllBasic } from '../../actions/am';\nimport Modal from '../ui/Modal';\nconst useStyles = makeStyles(theme => ({\n  new: {\n    marginTop: '25px',\n    marginBottom: '25px'\n  },\n  newBox: {\n    marginBottom: '25px'\n  },\n  newBoxForm: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '25ch'\n    }\n  },\n  newBoxSubmit: {\n    width: '30px',\n    marginTop: '15px',\n    backgroundColor: '#66CC00',\n    color: 'white',\n    '&:hover': {\n      backgroundColor: 'green'\n    }\n  },\n  table: {\n    minWidth: 650\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120\n  }\n})); // const newBoxProps = {\n//   bgcolor: 'background.paper',\n//   m: 1,\n//   style: { width: '90%', height: '5rem' },\n//   borderColor: 'text.primary',\n// };\n\nconst BasicManage = ({\n  basics,\n  newBasic,\n  getAllBasic\n}) => {\n  const classes = useStyles(); // new basic form\n\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    name: '',\n    college: ''\n  });\n  const {\n    email,\n    password,\n    name,\n    college\n  } = formData;\n\n  const newOnChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  }); // new basic form college dropdown\n\n\n  const [collegeDropDown, setCollege] = useState('');\n\n  const collgeChange = e => {\n    setCollege(e.target.value);\n    setFormData({ ...formData,\n      college: e.target.value\n    });\n  }; // basic list\n\n\n  const [tableValue, setTableValue] = useState();\n  const rows = [];\n\n  function createData(id, college, email, name, createdDate, status) {\n    return {\n      id,\n      college,\n      email,\n      name,\n      createdDate,\n      status\n    };\n  } // console.log(basics)\n  // 性能需要提升\n\n\n  useEffect(() => {\n    getAllBasic().then(function (data) {\n      // console.log(data)\n      // data.forEach(e => {\n      //   if (e) {\n      //     let status = ''\n      //     if (e.status === true) {\n      //       status = '已激活'\n      //     }\n      //     rows.push(createData(e._id, e.collegeDisplay, e.email, e.name, e.dateDisplay, status))\n      //     setTableValue('')\n      //     setTableValue(rows)\n      //   }\n      // })\n      let setTableData = new Promise((resolve, reject) => {\n        data.forEach(async e => {\n          if (e) {\n            let status = '';\n\n            if (e.status === true) {\n              status = '已激活';\n            }\n\n            rows.push(createData(e._id, e.collegeDisplay, e.email, e.name, e.dateDisplay, status));\n          }\n\n          resolve();\n        });\n      });\n      setTableData.then(() => {\n        setTableValue('');\n        setTableValue(rows);\n      });\n    });\n  }, [basics]);\n\n  const newBasicSubmit = e => {\n    e.preventDefault();\n    newBasic(email, password, name, college);\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    component: \"div\",\n    display: \"block\",\n    className: classes.newBox // border={0.2}\n    // {...newBoxProps}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.newBoxForm,\n    noValidate: true,\n    autoComplete: \"off\",\n    onSubmit: e => newBasicSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"email\",\n    name: \"email\",\n    label: \"\\u90AE\\u7BB1\",\n    variant: \"outlined\",\n    onChange: e => newOnChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"name\",\n    name: \"name\",\n    label: \"\\u59D3\\u540D\",\n    variant: \"outlined\",\n    onChange: e => newOnChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"password\",\n    name: \"password\",\n    label: \"\\u5BC6\\u7801\",\n    variant: \"outlined\",\n    onChange: e => newOnChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"college\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, \"\\u5B66\\u6821\"), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"college\",\n    id: \"demo-simple-select-outlined\",\n    value: collegeDropDown,\n    onChange: collgeChange,\n    label: \"college\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'University of Southern California',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, \"University of Southern California\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'University of California, Riverside',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }, \"University of California, Riverside\"))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    className: classes.newBoxSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }, \"\\u6DFB\\u52A0\"))), /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }, \"Data Id\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  }, \"\\u5B66\\u6821\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  }, \"\\u90AE\\u7BB1\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 15\n    }\n  }, \"\\u59D3\\u540D\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 15\n    }\n  }, \"\\u521B\\u5EFA\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }, \"\\u72B6\\u6001\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, \"\\u64CD\\u4F5C\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }\n  }, tableValue ? tableValue.map(e => /*#__PURE__*/React.createElement(TableRow, {\n    key: e.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }, e.id), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  }, e.college), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  }, e.email), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 17\n    }\n  }, e.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  }, e.createdDate), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 17\n    }\n  }, e.status), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 17\n    }\n  }, \"\\u4FEE\\u6539\")))) : null))));\n};\n\nconst mapStateToProps = state => ({\n  basics: state.amNewBasic.basic\n});\n\nexport default connect(mapStateToProps, {\n  newBasic,\n  getAllBasic\n})(BasicManage);","map":{"version":3,"sources":["/Users/mingkun/Desktop/student medicover/salesApp/client/src/components/am/basicManage.js"],"names":["React","useEffect","useState","Fragment","connect","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","Box","TextField","MenuItem","FormControl","Select","InputLabel","newBasic","getAllBasic","Modal","useStyles","theme","new","marginTop","marginBottom","newBox","newBoxForm","margin","spacing","width","newBoxSubmit","backgroundColor","color","table","minWidth","formControl","BasicManage","basics","classes","formData","setFormData","email","password","name","college","newOnChange","e","target","value","collegeDropDown","setCollege","collgeChange","tableValue","setTableValue","rows","createData","id","createdDate","status","then","data","setTableData","Promise","resolve","reject","forEach","push","_id","collegeDisplay","dateDisplay","newBasicSubmit","preventDefault","map","mapStateToProps","state","amNewBasic","basic"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,QAArC,QAAqD,OAArD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AAEA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,kBAAtC;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,MAAMC,SAAS,GAAGlB,UAAU,CAAEmB,KAAD,KAAY;AACvCC,EAAAA,GAAG,EAAE;AACHC,IAAAA,SAAS,EAAE,MADR;AAEHC,IAAAA,YAAY,EAAE;AAFX,GADkC;AAKvCC,EAAAA,MAAM,EAAE;AACND,IAAAA,YAAY,EAAE;AADR,GAL+B;AAQvCE,EAAAA,UAAU,EAAE;AACV,aAAS;AACPC,MAAAA,MAAM,EAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,CADD;AAEPC,MAAAA,KAAK,EAAE;AAFA;AADC,GAR2B;AAcvCC,EAAAA,YAAY,EAAE;AACZD,IAAAA,KAAK,EAAE,MADK;AAEZN,IAAAA,SAAS,EAAE,MAFC;AAGZQ,IAAAA,eAAe,EAAE,SAHL;AAIZC,IAAAA,KAAK,EAAE,OAJK;AAKZ,eAAW;AACTD,MAAAA,eAAe,EAAE;AADR;AALC,GAdyB;AAuBvCE,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AADL,GAvBgC;AA0BvCC,EAAAA,WAAW,EAAE;AACXR,IAAAA,MAAM,EAAEN,KAAK,CAACO,OAAN,CAAc,CAAd,CADG;AAEXM,IAAAA,QAAQ,EAAE;AAFC;AA1B0B,CAAZ,CAAD,CAA5B,C,CAgCA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAME,WAAW,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUpB,EAAAA,QAAV;AAAoBC,EAAAA;AAApB,CAAD,KAAuC;AACzD,QAAMoB,OAAO,GAAGlB,SAAS,EAAzB,CADyD,CAGzD;;AACA,QAAM,CAACmB,QAAD,EAAWC,WAAX,IAA0BzC,QAAQ,CAAC;AACvC0C,IAAAA,KAAK,EAAE,EADgC;AAEvCC,IAAAA,QAAQ,EAAE,EAF6B;AAGvCC,IAAAA,IAAI,EAAC,EAHkC;AAIvCC,IAAAA,OAAO,EAAC;AAJ+B,GAAD,CAAxC;AAMA,QAAM;AAACH,IAAAA,KAAD;AAAQC,IAAAA,QAAR;AAAkBC,IAAAA,IAAlB;AAAwBC,IAAAA;AAAxB,MAAmCL,QAAzC;;AAEA,QAAMM,WAAW,GAAGC,CAAC,IAAIN,WAAW,CAAC,EACnC,GAAGD,QADgC;AAEnC,KAACO,CAAC,CAACC,MAAF,CAASJ,IAAV,GAAiBG,CAAC,CAACC,MAAF,CAASC;AAFS,GAAD,CAApC,CAZyD,CAiBzD;;;AACA,QAAM,CAACC,eAAD,EAAkBC,UAAlB,IAAgCnD,QAAQ,CAAC,EAAD,CAA9C;;AACA,QAAMoD,YAAY,GAAIL,CAAD,IAAO;AAC1BI,IAAAA,UAAU,CAACJ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV;AACAR,IAAAA,WAAW,CAAC,EACV,GAAGD,QADO;AAEVK,MAAAA,OAAO,EAAEE,CAAC,CAACC,MAAF,CAASC;AAFR,KAAD,CAAX;AAID,GAND,CAnByD,CA2BzD;;;AACA,QAAM,CAACI,UAAD,EAAaC,aAAb,IAA8BtD,QAAQ,EAA5C;AACA,QAAMuD,IAAI,GAAG,EAAb;;AAEA,WAASC,UAAT,CAAoBC,EAApB,EAAwBZ,OAAxB,EAAiCH,KAAjC,EAAwCE,IAAxC,EAA8Cc,WAA9C,EAA2DC,MAA3D,EAAmE;AACjE,WAAO;AAAEF,MAAAA,EAAF;AAAMZ,MAAAA,OAAN;AAAeH,MAAAA,KAAf;AAAsBE,MAAAA,IAAtB;AAA4Bc,MAAAA,WAA5B;AAAyCC,MAAAA;AAAzC,KAAP;AACD,GAjCwD,CAmCzD;AAEA;;;AACA5D,EAAAA,SAAS,CAAC,MAAM;AACdoB,IAAAA,WAAW,GACVyC,IADD,CACM,UAASC,IAAT,EAAe;AACnB;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,UAAIC,YAAY,GAAG,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAClDJ,QAAAA,IAAI,CAACK,OAAL,CAAa,MAAMnB,CAAN,IAAW;AACtB,cAAIA,CAAJ,EAAO;AACL,gBAAIY,MAAM,GAAG,EAAb;;AACA,gBAAIZ,CAAC,CAACY,MAAF,KAAa,IAAjB,EAAuB;AACrBA,cAAAA,MAAM,GAAG,KAAT;AACD;;AACDJ,YAAAA,IAAI,CAACY,IAAL,CAAUX,UAAU,CAACT,CAAC,CAACqB,GAAH,EAAQrB,CAAC,CAACsB,cAAV,EAA0BtB,CAAC,CAACL,KAA5B,EAAmCK,CAAC,CAACH,IAArC,EAA2CG,CAAC,CAACuB,WAA7C,EAA0DX,MAA1D,CAApB;AACD;;AACDK,UAAAA,OAAO;AACR,SATD;AAUD,OAXkB,CAAnB;AAaAF,MAAAA,YAAY,CAACF,IAAb,CAAkB,MAAM;AACtBN,QAAAA,aAAa,CAAC,EAAD,CAAb;AACAA,QAAAA,aAAa,CAACC,IAAD,CAAb;AACD,OAHD;AAIH,KAhCD;AAiCD,GAlCQ,EAkCN,CAAEjB,MAAF,CAlCM,CAAT;;AAsCA,QAAMiC,cAAc,GAAGxB,CAAC,IAAI;AAC1BA,IAAAA,CAAC,CAACyB,cAAF;AACAtD,IAAAA,QAAQ,CAAEwB,KAAF,EAASC,QAAT,EAAmBC,IAAnB,EAAyBC,OAAzB,CAAR;AACD,GAHD;;AAKA,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE,oBAAC,GAAD;AACE,IAAA,SAAS,EAAC,KADZ;AAEE,IAAA,OAAO,EAAC,OAFV;AAGE,IAAA,SAAS,EAAEN,OAAO,CAACb,MAHrB,CAIE;AACA;AALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE;AACE,IAAA,SAAS,EAAEa,OAAO,CAACZ,UADrB;AAEE,IAAA,UAAU,MAFZ;AAGE,IAAA,YAAY,EAAC,KAHf;AAIE,IAAA,QAAQ,EAAEoB,CAAC,IAAIwB,cAAc,CAACxB,CAAD,CAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAC,cAHR;AAIE,IAAA,OAAO,EAAC,UAJV;AAKE,IAAA,QAAQ,EAAEA,CAAC,IAAID,WAAW,CAACC,CAAD,CAL5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAaE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,MADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,KAAK,EAAC,cAHR;AAIE,IAAA,OAAO,EAAC,UAJV;AAKE,IAAA,QAAQ,EAAEA,CAAC,IAAID,WAAW,CAACC,CAAD,CAL5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,eAoBE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,UADL;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAC,cAHR;AAIE,IAAA,OAAO,EAAC,UAJV;AAKE,IAAA,QAAQ,EAAEA,CAAC,IAAID,WAAW,CAACC,CAAD,CAL5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApBF,eAgCE,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAC,UAArB;AAAgC,IAAA,SAAS,EAAER,OAAO,CAACH,WAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,EAAE,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAC,SADV;AAEE,IAAA,EAAE,EAAC,6BAFL;AAGE,IAAA,KAAK,EAAEc,eAHT;AAIE,IAAA,QAAQ,EAAEE,YAJZ;AAKE,IAAA,KAAK,EAAC,SALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,mCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAPF,eAQE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,qCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CARF,CAFF,CAhCF,eA6CE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,MAFX;AAGE,IAAA,OAAO,EAAC,WAHV;AAIE,IAAA,SAAS,EAAEb,OAAO,CAACR,YAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA7CF,CAPF,CARF,eAsEE,oBAAC,cAAD;AAAgB,IAAA,SAAS,EAAErB,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE6B,OAAO,CAACL,KAA1B;AAAiC,kBAAW,cAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,eAIE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,eAKE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCALF,eAME,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANF,eAOE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPF,CADF,CADF,eAYE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEGmB,UAAU,GAAGA,UAAU,CAACoB,GAAX,CAAgB1B,CAAD,iBAC3B,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,CAAC,CAACU,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,IAArB;AAA0B,IAAA,KAAK,EAAC,KAAhC;AAAsC,IAAA,KAAK,EAAC,QAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGV,CAAC,CAACU,EADL,CADF,eAIE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BV,CAAC,CAACF,OAA7B,CAJF,eAKE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BE,CAAC,CAACL,KAA7B,CALF,eAME,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BK,CAAC,CAACH,IAA7B,CANF,eAOE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BG,CAAC,CAACW,WAA7B,CAPF,eAQE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BX,CAAC,CAACY,MAA7B,CARF,eASE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,KAAK,EAAC,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,CATF,CADY,CAAH,GAgBN,IAlBP,CAZF,CADF,CAtEF,CADF;AA4GD,CA7LD;;AA+LA,MAAMe,eAAe,GAAGC,KAAK,KAAK;AAChCrC,EAAAA,MAAM,EAAEqC,KAAK,CAACC,UAAN,CAAiBC;AADO,CAAL,CAA7B;;AAIA,eAAe3E,OAAO,CAACwE,eAAD,EAAkB;AAAExD,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAlB,CAAP,CAAoDkB,WAApD,CAAf","sourcesContent":["import React, { useEffect, useState, Fragment } from 'react'\nimport { connect } from 'react-redux';\nimport { makeStyles } from '@material-ui/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\n\nimport { newBasic, getAllBasic } from '../../actions/am';\nimport Modal from '../ui/Modal';\n\nconst useStyles = makeStyles((theme) => ({\n  new: {\n    marginTop: '25px',\n    marginBottom: '25px'\n  },\n  newBox: {\n    marginBottom: '25px'\n  },\n  newBoxForm: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '25ch',\n    }\n  },\n  newBoxSubmit: {\n    width: '30px',\n    marginTop: '15px',\n    backgroundColor: '#66CC00',\n    color: 'white',\n    '&:hover': {\n      backgroundColor: 'green'\n    }\n  },\n  table: {\n    minWidth: 650,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\n// const newBoxProps = {\n//   bgcolor: 'background.paper',\n//   m: 1,\n//   style: { width: '90%', height: '5rem' },\n//   borderColor: 'text.primary',\n// };\n\nconst BasicManage = ({ basics, newBasic, getAllBasic }) => {\n  const classes = useStyles();\n\n  // new basic form\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    name:'',\n    college:''\n  })\n  const {email, password, name, college} = formData;\n\n  const newOnChange = e => setFormData({\n    ...formData,\n    [e.target.name]: e.target.value\n  })\n\n  // new basic form college dropdown\n  const [collegeDropDown, setCollege] = useState('');\n  const collgeChange = (e) => {\n    setCollege(e.target.value)\n    setFormData({\n      ...formData,\n      college: e.target.value\n    })\n  }\n\n  // basic list\n  const [tableValue, setTableValue] = useState();\n  const rows = [];\n\n  function createData(id, college, email, name, createdDate, status) {\n    return { id, college, email, name, createdDate, status };\n  }\n\n  // console.log(basics)\n\n  // 性能需要提升\n  useEffect(() => {\n    getAllBasic()\n    .then(function(data) {\n      // console.log(data)\n        // data.forEach(e => {\n        //   if (e) {\n        //     let status = ''\n        //     if (e.status === true) {\n        //       status = '已激活'\n        //     }\n        //     rows.push(createData(e._id, e.collegeDisplay, e.email, e.name, e.dateDisplay, status))\n        //     setTableValue('')\n        //     setTableValue(rows)\n        //   }\n        // })\n\n        let setTableData = new Promise((resolve, reject) => {\n          data.forEach(async e => {\n            if (e) {\n              let status = ''\n              if (e.status === true) {\n                status = '已激活'\n              }\n              rows.push(createData(e._id, e.collegeDisplay, e.email, e.name, e.dateDisplay, status))\n            }\n            resolve();\n          })\n        });\n\n        setTableData.then(() => {\n          setTableValue('')\n          setTableValue(rows)\n        })\n    })\n  }, [ basics ]\n  )\n\n\n  const newBasicSubmit = e => {\n    e.preventDefault();\n    newBasic( email, password, name, college )\n  }\n\n  return (\n    <Fragment>\n      {/* <Button\n        variant=\"contained\"\n        color=\"primary\"\n        className={classes.new}\n      >\n        添加校园大使\n      </Button> */}\n      <Box\n        component=\"div\"\n        display=\"block\"\n        className={classes.newBox}\n        // border={0.2}\n        // {...newBoxProps}\n      >\n        <form\n          className={classes.newBoxForm}\n          noValidate\n          autoComplete=\"off\"\n          onSubmit={e => newBasicSubmit(e)}\n        >\n          <TextField\n            id=\"email\"\n            name=\"email\"\n            label=\"邮箱\"\n            variant=\"outlined\"\n            onChange={e => newOnChange(e)}\n          />\n          <TextField\n            id=\"name\"\n            name=\"name\"\n            label=\"姓名\"\n            variant=\"outlined\"\n            onChange={e => newOnChange(e)}\n          />\n          <TextField\n            id=\"password\"\n            name=\"password\"\n            label=\"密码\"\n            variant=\"outlined\"\n            onChange={e => newOnChange(e)}\n          />\n          {\n            /*\n              hard code 学校， 需要添加获取学校API！！\n            */\n          }\n          <FormControl variant=\"outlined\" className={classes.formControl}>\n            <InputLabel id=\"college\">学校</InputLabel>\n            <Select\n              labelId=\"college\"\n              id=\"demo-simple-select-outlined\"\n              value={collegeDropDown}\n              onChange={collgeChange}\n              label=\"college\"\n            >\n              <MenuItem value={'University of Southern California'}>University of Southern California</MenuItem>\n              <MenuItem value={'University of California, Riverside'}>University of California, Riverside</MenuItem>\n            </Select>\n          </FormControl>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            className={classes.newBoxSubmit}\n          >\n            添加\n          </Button>\n        </form>\n      </Box>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell align='center'>Data Id</TableCell>\n              <TableCell align='center'>学校</TableCell>\n              <TableCell align='center'>邮箱</TableCell>\n              <TableCell align='center'>姓名</TableCell>\n              <TableCell align='center'>创建时间</TableCell>\n              <TableCell align='center'>状态</TableCell>\n              <TableCell align='center'>操作</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n\n            {tableValue ? tableValue.map((e) => (\n              <TableRow key={e.id}>\n                <TableCell component=\"th\" scope=\"row\" align='center'>\n                  {e.id}\n                </TableCell>\n                <TableCell align='center'>{e.college}</TableCell>\n                <TableCell align='center'>{e.email}</TableCell>\n                <TableCell align='center'>{e.name}</TableCell>\n                <TableCell align='center'>{e.createdDate}</TableCell>\n                <TableCell align='center'>{e.status}</TableCell>\n                <TableCell align='center'>\n                <Button variant=\"contained\" color=\"primary\">\n                  修改\n                </Button>\n                </TableCell>\n              </TableRow>\n            )) : null}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Fragment>\n  )\n}\n\nconst mapStateToProps = state => ({\n  basics: state.amNewBasic.basic\n})\n\nexport default connect(mapStateToProps, { newBasic, getAllBasic })(BasicManage);"]},"metadata":{},"sourceType":"module"}